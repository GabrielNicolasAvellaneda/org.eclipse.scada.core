<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Nov 28 17:08:45 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>QueryListener (Eclipse SCADA Core Components API Reference)</title>
<meta name="date" content="2013-11-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="QueryListener (Eclipse SCADA Core Components API Reference)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        <b>Eclipse SCADA Core Components</b>
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/eclipse/scada/hd/Query.html" title="interface in org.eclipse.scada.hd"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/eclipse/scada/hd/QueryState.html" title="enum in org.eclipse.scada.hd"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/scada/hd/QueryListener.html" target="_top">Frames</a></li>
<li><a href="QueryListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.scada.hd</div>
<h2 title="Interface QueryListener" class="title">Interface QueryListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/eclipse/scada/hd/server/net/QueryHandler.html" title="class in org.eclipse.scada.hd.server.net">QueryHandler</a>, <a href="../../../../org/eclipse/scada/hd/server/ngp/QueryHandler.html" title="class in org.eclipse.scada.hd.server.ngp">QueryHandler</a>, <a href="../../../../org/eclipse/scada/hd/server/common/internal/QueryImpl.html" title="class in org.eclipse.scada.hd.server.common.internal">QueryImpl</a>, <a href="../../../../org/eclipse/scada/hd/server/proxy/QueryImpl.QueryEntry.html" title="class in org.eclipse.scada.hd.server.proxy">QueryImpl.QueryEntry</a>, <a href="../../../../org/eclipse/scada/hd/perf/test/QueryRunner.QueryTask.html" title="class in org.eclipse.scada.hd.perf.test">QueryRunner.QueryTask</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">QueryListener</span></pre>
<div class="block">A query listener interface
 <p>
 The query listener is called by the <a href="../../../../org/eclipse/scada/hd/Query.html" title="interface in org.eclipse.scada.hd"><code>Query</code></a> to notify the listener of
 internal changes in the query. In most cases the creator of the query is
 interested in receiving the query results.
 </p>
 <p>
 The <a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateState(org.eclipse.scada.hd.QueryState)"><code>updateState(QueryState)</code></a> method may be called at any time by the
 query and is only for informational purposes. The query can switch the status
 without request from the client back to <a href="../../../../org/eclipse/scada/hd/QueryState.html#LOADING"><code>QueryState.LOADING</code></a> for
 example although the client did not request a change in parameters. The query
 should however update the status only if necessary and use the state
 <a href="../../../../org/eclipse/scada/hd/QueryState.html#LOADING"><code>QueryState.LOADING</code></a> as an indicator that data is being fetched from
 the archive and that values still need to be updated. It should use
 <a href="../../../../org/eclipse/scada/hd/QueryState.html#COMPLETE"><code>QueryState.COMPLETE</code></a> as an indicator that all data was fetched from
 the archive. Data may still be updated in state <a href="../../../../org/eclipse/scada/hd/QueryState.html#COMPLETE"><code>QueryState.COMPLETE</code></a>.
 </p>
 <p>
 The the query is closed (and only then) the query must set the status to
 <a href="../../../../org/eclipse/scada/hd/QueryState.html#DISCONNECTED"><code>QueryState.DISCONNECTED</code></a>.
 </p>
 <p>
 Before any data is transmitted the method
 <a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateParameters(org.eclipse.scada.hd.data.QueryParameters, java.util.Set)"><code>updateParameters(QueryParameters, Set)</code></a> must be called including the
 actual parameters (although they might be the same as the requested
 parameters) and including all provided value types. Further calls to
 <code>#updateData(int, Map, ValueInformation[])</code> must contain exactly these
 value types. After <a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateParameters(org.eclipse.scada.hd.data.QueryParameters, java.util.Set)"><code>updateParameters(QueryParameters, Set)</code></a> was called
 all previously known data is considered invalid.
 </p>
 <p>
 Calls to <code>#updateData(int, Map, ValueInformation[])</code> will provide new
 values. The call allows to split up data in packets. Queries should try to
 provide data as early as possible but still should group data in chunks to
 reduce update calls. The values must contain exactly the value types as
 announces by the previous call to
 <a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateParameters(org.eclipse.scada.hd.data.QueryParameters, java.util.Set)"><code>updateParameters(QueryParameters, Set)</code></a>. All arrays sizes must have
 the same length for each call and must not exceed the announces entry size.
 </p>
 <p>
 There must be no calls the listener after the query was closed and the final
 state change to <a href="../../../../org/eclipse/scada/hd/QueryState.html#DISCONNECTED"><code>QueryState.DISCONNECTED</code></a> was send.
 </p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>0.14.0</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/eclipse/scada/hd/Query.html" title="interface in org.eclipse.scada.hd"><code>Query</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateData(int, java.util.Map, java.util.List)">updateData</a></strong>(int&nbsp;index,
          java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.Double&gt;&gt;&nbsp;values,
          java.util.List&lt;<a href="../../../../org/eclipse/scada/hd/data/ValueInformation.html" title="class in org.eclipse.scada.hd.data">ValueInformation</a>&gt;&nbsp;valueInformation)</code>
<div class="block">Reports data update</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateParameters(org.eclipse.scada.hd.data.QueryParameters, java.util.Set)">updateParameters</a></strong>(<a href="../../../../org/eclipse/scada/hd/data/QueryParameters.html" title="class in org.eclipse.scada.hd.data">QueryParameters</a>&nbsp;parameters,
                java.util.Set&lt;java.lang.String&gt;&nbsp;valueTypes)</code>
<div class="block">Reports a change in parameters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/eclipse/scada/hd/QueryListener.html#updateState(org.eclipse.scada.hd.QueryState)">updateState</a></strong>(<a href="../../../../org/eclipse/scada/hd/QueryState.html" title="enum in org.eclipse.scada.hd">QueryState</a>&nbsp;state)</code>
<div class="block">Updates the state of the query</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="updateState(org.eclipse.scada.hd.QueryState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateState</h4>
<pre>void&nbsp;updateState(<a href="../../../../org/eclipse/scada/hd/QueryState.html" title="enum in org.eclipse.scada.hd">QueryState</a>&nbsp;state)</pre>
<div class="block">Updates the state of the query</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - the new state</dd></dl>
</li>
</ul>
<a name="updateParameters(org.eclipse.scada.hd.data.QueryParameters, java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateParameters</h4>
<pre>void&nbsp;updateParameters(<a href="../../../../org/eclipse/scada/hd/data/QueryParameters.html" title="class in org.eclipse.scada.hd.data">QueryParameters</a>&nbsp;parameters,
                    java.util.Set&lt;java.lang.String&gt;&nbsp;valueTypes)</pre>
<div class="block">Reports a change in parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parameters</code> - the new parameters, must not be <code>null</code></dd><dd><code>valueTypes</code> - the new value types to expect, must not be <code>null</code>
            or empty</dd></dl>
</li>
</ul>
<a name="updateData(int, java.util.Map, java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateData</h4>
<pre>void&nbsp;updateData(int&nbsp;index,
              java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.Double&gt;&gt;&nbsp;values,
              java.util.List&lt;<a href="../../../../org/eclipse/scada/hd/data/ValueInformation.html" title="class in org.eclipse.scada.hd.data">ValueInformation</a>&gt;&nbsp;valueInformation)</pre>
<div class="block">Reports data update
 <p>
 All arrays must have the same size.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - index from which the data update starts, must be greater or
            equal to zero
            and lower than the reported number of entries</dd><dd><code>values</code> - the values that are updates, must not be <code>null</code></dd><dd><code>valueInformation</code> - the value information for the provided values. must not be
            <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>
        <b>Eclipse SCADA Core Components</b>
      </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/eclipse/scada/hd/Query.html" title="interface in org.eclipse.scada.hd"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/eclipse/scada/hd/QueryState.html" title="enum in org.eclipse.scada.hd"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/scada/hd/QueryListener.html" target="_top">Frames</a></li>
<li><a href="QueryListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
        <font size="-1"><p>
          Copyright (c) IBH SYSTEMS GmbH and others 2010, 2013.
          All rights reserved. This program and the accompanying materials
          are made available under the terms of the
          <a href="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License v1.0</a>
        </p></font>
      </small></p>
</body>
</html>
